/*

 Boom v1.0 , a javascript loader and manager

 MIT License

 http://dexbol.github.com/boom/

*/
(function(v,w){function z(a){if(!a)return false;return Object.prototype.toString.call(a)=="[object Object]"}function j(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)}function k(a,b,c,d,e,f){if(!b||!a)return a||this;if(e)switch(e){case 1:return k(a.prototype,b.prototype,c,d,0,f);case 2:k(a.prototype,b.prototype,c,d,0,f);break;case 3:return k(a,b.prototype,c,d,0,f);case 4:return k(a.prototype,b,c,d,0,f);default:}var g,h;if(d&&d.length){g=0;for(e=d.length;g<e;++g){h=d[g];if(b.hasOwnProperty(h))if(f&&
z(a[h]))k(a[h],b[h]);else if(c||!(h in a))a[h]=b[h]}}else for(g in b)if(b.hasOwnProperty(g))if(f&&z(a[g]))k(a[g],b[g],c,d,0,true);else if(c||!(g in a))a[g]=b[g];return a}function E(){var a=arguments,b={},c,d=a.length;for(c=0;c<d;c+=1)k(b,a[c],true,0,true);return b}function F(a,b,c,d){if(!b||!a)return a;var e=Object.prototype,f=b.prototype,g=function(h){function i(){}i.prototype=h;return new i}(f);a.prototype=g;g.constructor=a;a.superclass=f;if(b!==Object&&f.constructor===e.constructor)f.constructor=
b;c&&k(g,c,true);d&&k(a,d,true);return a}function A(a){a=a.substring(a.lastIndexOf(".")+1);return a=="js"||a=="css"}function G(a){var b=n,c,d,e,f;for(c in b)if(b.hasOwnProperty(c)){d=b[c]&&b[c].mods||[];f=d.length;for(e=0;e<f;e++)if(d[e]==a)return c}return false}function x(a,b){var c=n;c=c[a]?c[a].fullpath:a;var d=c.indexOf(".css")>-1?"css":"js",e=m[a];if(d=="css"){b=document.createElement("link");b.setAttribute("href",c);b.setAttribute("type","text/css");b.setAttribute("rel","stylesheet");o.parentNode.insertBefore(b,
o)}else{e||(e=m[a]={handler:[b?b:null]});if(e.status==s)b&&b(a);else if(e.status==B)b&&e.handler.push(b);else{var f=document.createElement("script");f.src=c;f.async=false;f.onload=f.onreadystatechange=function(){if(!this.readyState||this.readyState=="loaded"||this.readyState=="complete"){e.status=s;for(var g=e.handler,h;g.length>0;)(h=g.shift())&&h(a);f.load=f.onreadystatechange=null}};o.parentNode.insertBefore(f,o);e.status=B}}}function y(a,b){var c=a.f,d=a.unfound,e=q,f={},g=function(h){if(!(!h||
f[h])){f[h]=true;if(A(h))m[h]&&m[h].status==s||c.push(h);else{var i=e[h];if(i)i&&i.details.requires&&j(i.details.requires,g);else{i=G(h);if(m[i]&&m[i].status==s)throw new Error("Can't found the module : "+h);if(i&&!f[i]){c.push(i);f[i]=true;d.push(h)}}}}};j(b?d:a.mods,g);c.length>0?H(a):I(a)}function H(a){if(J){var b=a.f=C(a,true),c=b.length,d=function(){if(--c==0){a.f=[];d=b=null;y(a,true)}};j(b,function(e){x(e,d)})}else{b=a.f=C(a);d=function(){if(b.length==0){y(a,true);a=d=b=null}else D(b.shift(),
d)};D(b.shift(),d)}}function C(a,b){a=a.f;var c={},d=[],e=function(i){if(!c[i]){c[i]=true;var r=n[i];r&&r.requires&&j(r.requires,e);d.push(i)}};if(b){j(a,e);return d}var f=0,g=[],h=[];j(a,function(i){e(i);c={};j(d,function(r){g.push(r)});f=Math.max(f,d.length);h.push(g);d=[];g=[]});for(d=[];--f>=0;){g=[];c={};j(h,function(i){(i=i.shift())&&!c[i]&&g.push(i);c[i]=true});d.push(g)}return d}function D(a,b){if(a){var c=a.length,d=function(){if(--c==0){b&&b();d=a=b=c=e=null}},e=function(f){x(f,d)};j(a,
e)}}function I(a){var b=a.cx,c=a.cb,d=[],e=q,f={};p=function(g){if(!f[g]){f[g]=true;var h=e[g];h&&h.details.requires&&j(h.details.requires,p);h&&!A(g)&&d.push(g)}};j(a.mods,p);b._attach(d);c&&c(b);delete t[a.id];a=null}function l(){if(!this instanceof l)return new l;this._init()}var B=0,s=1,n={},q={},m={},t={},u,o=function(){var a=w.getElementsByTagName("script");return a[a.length-1]}(),K=o.getAttribute("data-boom-symbol")||"Boom",J=w.createElement("script").async===true||"MozAppearance"in w.documentElement.style||
window.opera;u={_init:function(){if(!l.Env)l.Env={_attached:{},_guidp:"BOOM-",_cidx:0,mods:q,meta:n,thread:t};if(!this.Env)this.Env={_attached:{}}},guid:function(){var a=l.Env;return a._guidp+ ++a._cidx},add:function(a,b,c){q[a]={name:a,fn:b,details:c||{}};return this},addFile:function(a,b){if(typeof a=="object")for(var c in a)a.hasOwnProperty(c)&&this.addFile(c,a[c]);else n[a]=b;return this},load:x,use:function(){var a=Array.prototype.slice.call(arguments,0),b=a.length,c=this.guid();b=typeof a[b-
1]=="function"?a.pop():null;t[c]={id:c,cb:b,mods:a,unfound:[],f:[],cx:this};y(t[c])},_attach:function(a){var b=q,c=this.Env._attached,d=this;j(a,function(e){if(!c[e]){b[e].fn(d);c[e]=true}})},mix:k,merge:E,extend:F};l.prototype=u;for(p in u)l[p]=u[p];l._init();v[K]=v.CN6=v.Boom=l})(window,document);
