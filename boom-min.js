/*

 Boom v1.0 , a javascript loader and manager

 MIT License

 http://dexbol.github.com/boom/

*/
(function(o,m){function A(a){if(!a)return false;return Object.prototype.toString.call(a)=="[object Object]"}function j(a,b){for(var c=a.length,d=0;d<c;d++)b(a[d],d)}function k(a,b,c,d,f,e){if(!b||!a)return a||this;if(f)switch(f){case 1:return k(a.prototype,b.prototype,c,d,0,e);case 2:k(a.prototype,b.prototype,c,d,0,e);break;case 3:return k(a,b.prototype,c,d,0,e);case 4:return k(a.prototype,b,c,d,0,e);default:}var g,h;if(d&&d.length){g=0;for(f=d.length;g<f;++g){h=d[g];if(b.hasOwnProperty(h))if(e&&
A(a[h]))k(a[h],b[h]);else if(c||!(h in a))a[h]=b[h]}}else for(g in b)if(b.hasOwnProperty(g))if(e&&A(a[g]))k(a[g],b[g],c,d,0,true);else if(c||!(g in a))a[g]=b[g];return a}function F(){var a=arguments,b={},c,d=a.length;for(c=0;c<d;c+=1)k(b,a[c],true,0,true);return b}function G(a,b,c,d){if(!b||!a)return a;var f=Object.prototype,e=b.prototype,g=function(h){function i(){}i.prototype=h;return new i}(e);a.prototype=g;g.constructor=a;a.superclass=e;if(b!==Object&&e.constructor===f.constructor)e.constructor=
b;c&&k(g,c,true);d&&k(a,d,true);return a}function B(a){a=a.substring(a.lastIndexOf(".")+1);return a=="js"||a=="css"}function H(a){var b=q,c,d,f,e;for(c in b)if(b.hasOwnProperty(c)){d=b[c]&&b[c].mods||[];e=d.length;for(f=0;f<e;f++)if(d[f]==a)return c}return false}function x(a,b){var c=q,d=c[a]?c[a].fullpath:a;c=d.substring(d.lastIndexOf(".")+1)=="css"?"css":"js";var f=n[a],e;f||(f=n[a]={n:a,h:[b?b:null],s:-1});if(c=="css"){e=m.createElement("link");e.href=d;e.type="text/css";e.rel="stylesheet";r.parentNode.insertBefore(e,
r);b&&b();f.s=s}else if(f.s==s)b&&b(a);else if(f.s==C)b&&f.h.push(b);else{e=m.createElement("script");e.src=d;e.async=false;f.t=o.setTimeout(function(){y.fail(a,d)},y.timeout);e.onload=e.onreadystatechange=function(){if(!this.readyState||this.readyState=="loaded"||this.readyState=="complete"){o.clearTimeout(f.t);f.s=s;for(var g=f.h,h;g.length>0;)(h=g.shift())&&h(a);e.load=e.onreadystatechange=null}};r.parentNode.insertBefore(e,r);f.s=C}}function z(a,b){var c=a.f,d=a.unfound,f=t,e={},g=function(h){if(!(!h||
e[h])){e[h]=true;if(B(h))n[h]&&n[h].s==s||c.push(h);else{var i=f[h];if(i)i&&i.details.requires&&j(i.details.requires,g);else{i=H(h);if(!i||n[i]&&n[i].status==s)throw new Error("Can't found the module : "+h);if(i&&!e[i]){c.push(i);e[i]=true;d.push(h)}}}}};j(b?d:a.mods,g);console.groupEnd();c.length>0?I(a):J(a)}function I(a){if(K){var b=a.f=D(a,true),c=b.length,d=function(){if(--c==0){a.f=[];d=b=null;z(a,true)}};j(b,function(f){x(f,d)})}else{b=a.f=D(a);d=function(){if(b.length==0){z(a,true);a=d=b=null}else E(b.shift(),
d)};E(b.shift(),d)}}function D(a,b){a=a.f;var c={},d=[],f=function(i){if(!c[i]){c[i]=true;var u=q[i];u&&u.requires&&j(u.requires,f);d.push(i)}};if(b){j(a,f);return d}var e=0,g=[],h=[];j(a,function(i){f(i);c={};j(d,function(u){g.push(u)});e=Math.max(e,d.length);h.push(g);d=[];g=[]});for(d=[];--e>=0;){g=[];c={};j(h,function(i){(i=i.shift())&&!c[i]&&g.push(i);c[i]=true});d.push(g)}return d}function E(a,b){if(a){var c=a.length,d=function(){if(--c==0){b&&b();d=a=b=c=f=null}},f=function(e){x(e,d)};j(a,
f)}}function J(a){var b=a.cx,c=a.cb,d=[],f=t,e={};p=function(g){if(!e[g]){e[g]=true;var h=f[g];h&&h.details.requires&&j(h.details.requires,p);h&&!B(g)&&d.push(g)}};j(a.mods,p);b._attach(d);console.info(a);c&&c(b);delete v[a.id];a=null}function l(){if(!this instanceof l)return new l;this._init()}var C=0,s=1,y={timeout:6E3,fail:function(a,b){m.title="\u2716 "+b+" Load Failed,Please Refresh"}},q={},t={},n={},v={},w,r=function(){var a=m.getElementsByTagName("script");return a[a.length-1]}(),L=r.getAttribute("data-boom-symbol")||
"Boom",K=m.createElement("script").async===true||"MozAppearance"in m.documentElement.style||window.opera;w={_init:function(){if(!l.Env)l.Env={_attached:{},_guidp:"BOOM-",_cidx:0,_mods:t,_meta:q,_thread:v};if(!this.Env)this.Env={_attached:{}}},guid:function(){var a=l.Env;return a._guidp+ ++a._cidx},add:function(a,b,c){t[a]={name:a,fn:b,details:c||{}};return this},addFile:function(a,b){if(typeof a=="object")for(var c in a)a.hasOwnProperty(c)&&this.addFile(c,a[c]);else q[a]=b;return this},load:function(){var a=
[].slice.call(arguments,0);j(a,function(b){x(b)})},use:function(){var a=Array.prototype.slice.call(arguments,0),b=a.length,c=this.guid();b=typeof a[b-1]=="function"?a.pop():null;v[c]={id:c,cb:b,mods:a,unfound:[],f:[],cx:this};z(v[c])},_attach:function(a){var b=t,c=this.Env._attached,d=this;j(a,function(f){if(!c[f]){b[f].fn(d);c[f]=true}})},config:function(a,b){y[a]=b},mix:k,merge:F,extend:G};l.prototype=w;for(p in w)l[p]=w[p];l._init();o[L]=o.CN6=o.Boom=l})(window,document);
